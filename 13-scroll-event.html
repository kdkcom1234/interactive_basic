<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="id=edge" />
    <title>Interactive Web</title>
    <link rel="stylesheet" href="css/reset.css" />
    <style>
      img {
        max-width: 100%;
      }
      .content {
        /* viewport height */
        height: 1000vh;
        padding: 20%;
        background: yellowgreen;
      }
      .output {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        font-size: 2rem;
        font-weight: 200;
        color: #fff;
        background: rgba(0, 0, 0, 0.4);
      }
      .ilbuni {
        width: 100px;
        margin: 20px auto;
        transition: 1s;
      }
      .ilbuni.zoom {
        transform: scale(2);
      }
    </style>
  </head>
  <body>
    <div class="output">output</div>
    <div class="content">
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo culpa id ratione alias illum aliquam accusamus
        deleniti dolores dignissimos, temporibus iste perspiciatis voluptatem repudiandae debitis similique fugiat
        dolor, doloremque quos mollitia repellendus iure exercitationem molestiae ab! Veritatis harum voluptate enim
        ducimus amet vitae veniam dignissimos possimus facilis eaque minus similique, vel commodi sed? Sequi distinctio
        debitis numquam, necessitatibus officiis quam, sed rerum id culpa totam provident repellendus iste, laborum
        maiores, consequuntur fugiat voluptatibus? Ad, architecto. Ipsam minus quis, ea quas, ex impedit quia distinctio
        commodi expedita laudantium dolores cum? Quisquam, odit, laboriosam consequuntur expedita optio laudantium.
        Optio laboriosam, repellendus laborum.
      </p>
      <figure class="ilbuni">
        <img src="images/ilbuni_0.png" alt="일분이" />
      </figure>
    </div>
    <script>
      // 이벤트에 따른 트랜지션 처리
      // 1. 요소에 transform 디폴트 및 transition 스타일 속성을 추가
      // 2. 특정 이벤트 발생시에 수행할 transform이 있는 클래스를 부여

      (function () {
        const outputElem = document.querySelector('.output');
        const ilbuniElem = document.querySelector('.ilbuni');

        function showValue() {
          // 스크롤 Y축 픽셀 이동 크기
          // outputElem.innerHTML = window.pageYOffset;

          // 스크롤 할때 요소의 위치값 getBoundingClientRect()
          console.log(ilbuniElem.getBoundingClientRect());
          let posY = ilbuniElem.getBoundingClientRect().top;
          outputElem.innerHTML = posY;

          if (posY < window.innerHeight * 0.2) {
            ilbuniElem.classList.add('zoom');
          } else {
            ilbuniElem.classList.remove('zoom');
          }
        }

        window.addEventListener('scroll', function () {
          showValue();
        });
      })();
    </script>
  </body>
</html>
